--- original-docker-compose.yml	2025-12-18 01:00:50.599324932 -0600
+++ docker-compose.yml	2025-12-18 00:59:36.285126203 -0600
@@ -9,17 +9,23 @@
     restart: always
     ports: [ "127.0.0.1:4400:4400" ]
   schema:
-    image: pelias/schema:master
+    image: flyingdev/pelias-schema:master
     container_name: pelias_schema
     user: "${DOCKER_USER}"
+    environment:
+      - "PELIAS_OPENSEARCH=true"
+      - "OPENSEARCH_NODE=http://opensearch:9200"
     volumes:
       - "./pelias.json:/code/pelias.json"
   api:
-    image: pelias/api:master
+    image: flyingdev/pelias-api:master
     container_name: pelias_api
     user: "${DOCKER_USER}"
     restart: always
-    environment: [ "PORT=4000" ]
+    environment:
+      - "PORT=4000"
+      - "PELIAS_OPENSEARCH=true"
+      - "OPENSEARCH_NODE=http://opensearch:9200"
     ports: [ "0.0.0.0:4000:4000" ]
     volumes:
       - "./pelias.json:/code/pelias.json"
@@ -112,22 +130,15 @@
     volumes:
       - "./pelias.json:/code/pelias.json"
       - "${DATA_DIR}:/data"
-  elasticsearch:
-    image: pelias/elasticsearch:7.17.27
-    container_name: pelias_elasticsearch
-    user: "${DOCKER_USER}"
-    restart: always
-    ports: [ "127.0.0.1:9200:9200", "127.0.0.1:9300:9300" ]
-    volumes:
-      - "${DATA_DIR}/elasticsearch:/usr/share/elasticsearch/data"
-    ulimits:
-      memlock:
-        soft: -1
-        hard: -1
-      nofile:
-        soft: 65536
-        hard: 65536
-    cap_add: [ "IPC_LOCK" ]
+  opensearch:
+    image: flyingdev/opensearch:1.3.20
+    container_name: opensearch
+    environment:
+      - discovery.type=single-node
+      - cluster.name=docker-cluster
+    ports:
+      - "9200:9200"
+      - "9300:9300"
 
 
 
